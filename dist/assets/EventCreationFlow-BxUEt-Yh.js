const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-b309e1nc.js","assets/charts-0jYrCXCa.js","assets/qr-BITZ6EfA.js","assets/index-BHD_3q4q.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./qr-BITZ6EfA.js";import{c as t,u as s,S as a,j as l,Z as i,L as n,a as r,g as o,b as d,d as c,T as x,G as m,e as p,X as u,f as h,h as g,C as b,i as f,k as j}from"./index-b309e1nc.js";import{b as v}from"./charts-0jYrCXCa.js";import{d as N,l as y,a as w,M as k,T as C,b as E,L as A}from"./TileLayer-DQ8zY-q8.js";import{t as _,g as P,a as T}from"./geminiService-DURgciVI.js";import{S as I,T as U,L as S}from"./triangle-alert-CxxnQicr.js";import{U as L}from"./upload-uczA5OcS.js";import{C as F}from"./clock-Cnt1qgag.js";import{M as $}from"./map-pin-Zr57KGRe.js";import{S as D}from"./search-Bhl9FGOw.js";
/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),q=N(function(e,t){const s=new y.Popup(e,t.overlayContainer);return w(s,t)},function(e,t,{position:s},a){v.useEffect(function(){const{instance:l}=e;function i(e){e.popup===l&&(l.update(),a(!0))}function n(e){e.popup===l&&a(!1)}return t.map.on({popupopen:i,popupclose:n}),null==t.overlayContainer?(null!=s&&l.setLatLng(s),l.openOn(t.map)):t.overlayContainer.bindPopup(l),function(){var e;t.map.off({popupopen:i,popupclose:n}),null==(e=t.overlayContainer)||e.unbindPopup(),t.map.removeLayer(l)}},[e,t,a,s])}),B=15;delete A.Icon.Default.prototype._getIconUrl,A.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const O=({user:t,onUpdateUser:N,onEventCreated:y})=>{const[w,A]=v.useState(1),[O,G]=v.useState(!1),[R,Y]=v.useState(!1),[z,V]=v.useState([]),[Q,W]=v.useState(!0),[H,K]=v.useState(!1),[Z,J]=v.useState(t.credits||0),[X,ee]=v.useState(null),[te,se]=v.useState(""),[ae,le]=v.useState(!1),[ie,ne]=v.useState(!1),[re,oe]=v.useState(!1),[de,ce]=v.useState({name:"",category:"",description:"",tagline:"",aboutText:"",date:"",time:"",end_date:"",end_time:"",location:"",locationLat:58.8934,locationLng:25.9659,locationAddress:"",locationCity:"",visibility:"public",price:0,max_capacity:100}),[xe,me]=v.useState([{name:"General Admission",type:"general",price:0,quantity:100}]),pe=s(),ue=async e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];if(s)if(s.type.startsWith("image/"))if(s.size>10485760)alert("Image must be less than 10MB");else try{const e=await(async e=>new Promise((t,s)=>{const a=new FileReader;a.onload=a=>{var l;const i=new Image;i.onload=()=>{const a=1200;let l=i.width,n=i.height;l>n?l>a&&(n*=a/l,l=a):n>800&&(l*=800/n,n=800);const r=document.createElement("canvas");r.width=l,r.height=n;const o=r.getContext("2d");if(!o)return void s(new Error("Failed to get canvas context"));o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(i,0,0,l,n);const d=a=>{r.toBlob(l=>{if(!l)return void s(new Error("Failed to compress image"));if(l.size>819200&&a>.5)return void d(a-.1);const i=new File([l],e.name,{type:"image/jpeg",lastModified:Date.now()});t(i)},"image/jpeg",a)};d(.85)},i.onerror=()=>s(new Error("Failed to load image")),i.src=null==(l=a.target)?void 0:l.result},a.onerror=()=>s(new Error("Failed to read file")),a.readAsDataURL(e)}))(s);ee(e);const t=new FileReader;t.onloadend=()=>{se(t.result)},t.readAsDataURL(e)}catch(a){alert("Failed to process image. Please try another file.")}else alert("Please select an image file")},he=async()=>{const e=de.description||de.tagline||de.name;if(de.name&&e)if("free"!==t.subscription_tier||re){ne(!0);try{const t=`${de.name}: ${e}. Category: ${de.category}`,s=await P(t,"16:9",!1);s?(se(s),ee(null)):alert("Failed to generate AI image. Please try again or upload manually.")}catch(s){alert("AI image generation failed. Please try again or upload manually.")}finally{ne(!1)}}else alert("AI image generation is included when you unlock event creation (15 credits). Unlock to use AI features!");else alert("Please fill in event name and tagline first (use AI Generate to create a tagline)")},ge=async e=>{if(e&&!(e.trim().length<3)){K(!0);try{const t=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(e)}&format=json&limit=1&countrycodes=ee&addressdetails=1`,{headers:{"User-Agent":"EventNexus/1.0"}}),s=await t.json();if(s&&s.length>0){const e=s[0];ce(t=>{var s,a,l;return{...t,locationLat:parseFloat(e.lat),locationLng:parseFloat(e.lon),locationAddress:e.display_name,locationCity:(null==(s=e.address)?void 0:s.city)||(null==(a=e.address)?void 0:a.town)||(null==(l=e.address)?void 0:l.village)||"Estonia"}})}}catch(t){}finally{K(!1)}}};v.useEffect(()=>{(async()=>{try{const e=(await o()).filter(e=>e.organizerId===t.id);V(e)}catch(e){}finally{W(!1)}})()},[t.id]),v.useEffect(()=>{(async()=>{try{const e=await d(t.id);e&&void 0!==e.credits&&J(e.credits)}catch(e){}})()},[t.id]);const be=a[t.subscription_tier].maxEvents,fe=("free"!==t.subscription_tier||!re)&&(be!==1/0&&z.length>=be);if("free"===t.subscription_tier&&!re){const e=B,s=Z>=e,a=async()=>{if(s){if(confirm(`Unlock event creation for ${e} credits?\n\nIncludes:\n‚úì Event creation with full features\n‚úì AI image generation\n‚úì Multilingual translations\n‚úì Marketing taglines\n\nCurrent balance: ${Z} credits\nNew balance: ${Z-e} credits`))try{if(await c(t.id,e)){const t=Z-e;J(t),N&&N({credits:t}),oe(!0),alert("üéâ Event creation unlocked!\n\nYou can now create 1 event with all AI features included. Fill in your event details below to get started.")}else alert("Failed to unlock feature. Please check your connection and try again.")}catch(a){alert("Error unlocking feature. Please refresh the page and try again.")}}else alert(`You need ${e} credits to create an event. You currently have ${Z} credits.\n\nOptions:\n‚úì Upgrade to Pro for unlimited event creation\n‚úì Complete platform actions to earn more credits`)};return l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-12 md:py-20 animate-in fade-in duration-700",children:l.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl md:rounded-[48px] p-6 md:p-12 text-center space-y-6 md:space-y-8 shadow-2xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-600/10 rounded-full blur-[80px] -mr-32 -mt-32"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-indigo-600/10 rounded-full blur-[80px] -ml-32 -mb-32"}),l.jsxs("div",{className:"w-24 h-24 bg-indigo-600 rounded-[32px] flex items-center justify-center mx-auto shadow-2xl shadow-indigo-600/40 relative",children:[l.jsx(i,{className:"w-12 h-12 text-white"}),l.jsx("div",{className:"absolute -top-2 -right-2 bg-slate-950 p-2 rounded-xl border border-slate-800",children:l.jsx(I,{className:"w-5 h-5 text-orange-500"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-4xl font-black tracking-tighter",children:"Become a Creator"}),l.jsxs("p",{className:"text-slate-400 max-w-md mx-auto leading-relaxed font-medium text-lg",children:["Free tier users can create events using ",l.jsx("span",{className:"text-orange-400 font-bold",children:"credits"}),". Unlock includes ",l.jsx("span",{className:"text-green-400 font-bold",children:"all AI features"})," (image generation, translations, taglines) for that event, or upgrade to ",l.jsx("span",{className:"text-indigo-400 font-bold",children:"Pro"})," for unlimited creation."]})]}),l.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-3xl p-6 max-w-md mx-auto",children:[l.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Your Credit Balance"}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx(i,{className:"w-8 h-8 text-orange-400"}),l.jsx("p",{className:"text-5xl font-black text-white",children:Z}),l.jsx("span",{className:"text-slate-400 text-sm font-bold",children:"credits"})]}),l.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["= ‚Ç¨",(.5*Z).toFixed(2)," value"]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-md mx-auto",children:[l.jsx("button",{onClick:a,disabled:!s,className:"w-full py-5 rounded-3xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl active:scale-95 "+(s?"bg-orange-600 hover:bg-orange-700 shadow-orange-600/30":"bg-slate-800 cursor-not-allowed opacity-50"),children:s?`Unlock 1 Event (${e} Credits)`:`Need ${e-Z} More Credits`}),l.jsx(n,{to:"/pricing",className:"w-full bg-indigo-600 hover:bg-indigo-700 py-5 rounded-3xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl shadow-indigo-600/30 active:scale-95",children:"Upgrade to Pro (20 Events)"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-lg mx-auto",children:[l.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-700 text-left",children:[l.jsx("p",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest mb-1",children:"Creation"}),l.jsx("p",{className:"text-sm font-bold text-white",children:"Up to 20 Events (Pro)"})]}),l.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-700 text-left",children:[l.jsx("p",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest mb-1",children:"Promotion"}),l.jsx("p",{className:"text-sm font-bold text-white",children:"Public Profile Page"})]}),l.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-700 text-left",children:[l.jsx("p",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest mb-1",children:"Insights"}),l.jsx("p",{className:"text-sm font-bold text-white",children:"Analytics Dashboard"})]}),l.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-700 text-left",children:[l.jsx("p",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest mb-1",children:"Global"}),l.jsx("p",{className:"text-sm font-bold text-white",children:"AI Auto-Translation"})]})]}),l.jsx("div",{className:"pt-4",children:l.jsx(n,{to:"/map",className:"text-slate-500 hover:text-white font-bold text-sm transition-colors",children:"Continue Exploring Events"})})]})})}if(fe&&!Q){const e={pro:"Premium (100 events)",premium:"Enterprise (unlimited events)",enterprise:""}[t.subscription_tier];return l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-20 animate-in fade-in duration-700",children:l.jsxs("div",{className:"bg-slate-900 border border-orange-800/50 rounded-[48px] p-12 text-center space-y-8 shadow-2xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-orange-600/10 rounded-full blur-[80px] -mr-32 -mt-32"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-orange-600/10 rounded-full blur-[80px] -ml-32 -mb-32"}),l.jsx("div",{className:"w-24 h-24 bg-orange-600 rounded-[32px] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 relative",children:l.jsx(U,{className:"w-12 h-12 text-white"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-4xl font-black tracking-tighter",children:"Event Limit Reached"}),l.jsxs("p",{className:"text-slate-400 max-w-md mx-auto leading-relaxed font-medium text-lg",children:["You've created ",l.jsx("span",{className:"text-orange-400 font-black",children:z.length})," events, reaching your ",l.jsx("span",{className:"text-orange-400 font-black",children:t.subscription_tier.toUpperCase()})," tier limit of ",l.jsx("span",{className:"text-orange-400 font-black",children:be})," events."]}),e&&l.jsxs("p",{className:"text-slate-500 max-w-md mx-auto font-medium",children:["Upgrade to ",l.jsx("span",{className:"text-indigo-400 font-bold",children:e})," to create more events."]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 max-w-lg mx-auto",children:l.jsxs("div",{className:"p-6 bg-slate-800/50 rounded-2xl border border-slate-700 text-center",children:[l.jsx("p",{className:"text-sm font-bold text-white mb-2",children:"Your Active Events"}),l.jsxs("p",{className:"text-3xl font-black text-orange-400",children:[z.length," / ",be]})]})}),l.jsxs("div",{className:"pt-6 flex flex-col gap-4",children:[e&&l.jsx(n,{to:"/pricing",className:"w-full bg-indigo-600 hover:bg-indigo-700 py-5 rounded-3xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl shadow-indigo-600/30 active:scale-95",children:"Upgrade to Create More"}),l.jsx(n,{to:"/dashboard",className:"text-slate-500 hover:text-white font-bold text-sm transition-colors",children:"Back to Dashboard"})]})]})})}const je=async()=>{if(!de.name||!de.category)return;if("free"===t.subscription_tier&&!re)return void alert("AI features are included when you unlock event creation (15 credits). Unlock to use AI tagline generation!");G(!0);const e=await T(de.name,de.category);ce(t=>({...t,tagline:e})),G(!1)},ve=async()=>{if(de.name&&de.category&&de.date&&de.time){Y(!0);try{let i="";if(te){le(!0);try{if(te.startsWith("data:")){const e=await fetch(te),t=await e.blob(),s=crypto.randomUUID(),a=new File([t],`${s}.png`,{type:t.type||"image/png"});i=await f(s,a)||""}}catch(s){i=""}finally{le(!1)}}let n={};const r=de.tagline||de.name;if("free"!==t.subscription_tier){const e=[{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"pt",name:"Portuguese"},{code:"it",name:"Italian"}];try{const s=e.map(async({code:e,name:s})=>{try{return{lang:e,text:await _(r,s,t.id,t.subscription_tier)}}catch(a){return{lang:e,text:r}}});(await Promise.all(s)).forEach(({lang:e,text:t})=>{n[e]=t}),n.en=r}catch(a){}}const o={name:de.name,category:de.category,description:r,aboutText:de.aboutText||void 0,date:de.date,time:de.time,end_date:de.end_date||void 0,end_time:de.end_time||void 0,location:{lat:de.locationLat||40.7128,lng:de.locationLng||-74.006,address:de.locationAddress||de.location,city:de.locationCity||"New York"},price:de.price,visibility:de.visibility,organizerId:t.id,imageUrl:i,attendeesCount:0,maxAttendees:de.max_capacity,isFeatured:"premium"===t.subscription_tier||"enterprise"===t.subscription_tier,customBranding:"premium"!==t.subscription_tier&&"enterprise"!==t.subscription_tier||!t.branding?void 0:{primaryColor:t.branding.primaryColor,logo:t.avatar},translations:Object.keys(n).length>0?n:void 0},d=await j(o);if(d){if(xe&&xe.length>0)try{const{createTicketTemplates:t}=await e(async()=>{const{createTicketTemplates:e}=await import("./index-b309e1nc.js").then(e=>e.be);return{createTicketTemplates:e}},__vite__mapDeps([0,1,2,3])),s=xe.map(e=>({name:e.name,type:e.type,price:e.price||0,quantity_total:e.quantity||50,quantity_available:e.quantity||50,quantity_sold:0,description:e.description,is_active:!0}));await t(d.id,s)}catch(l){}const t=Object.keys(n).length,s=t>0?`Event created successfully!\n\nüåê Auto-translated into ${t} languages: ${Object.keys(n).join(", ").toUpperCase()}`:"Event created successfully!";alert(s),y&&y(),pe("/dashboard")}else alert("Failed to create event. Please try again.")}catch(a){alert("Error creating event. Please try again.")}finally{Y(!1)}}else alert("Please fill in all required fields")};return l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 min-h-screen",children:[l.jsxs("div",{className:"mb-12",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center font-bold text-xl",children:w}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:"Create New Event"}),l.jsxs("p",{className:"text-xs text-slate-400",children:["Step ",w," of 5"]})]})]})}),l.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500 ease-out",style:{width:w/5*100+"%"}})})]}),l.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-3xl p-8 backdrop-blur-sm shadow-2xl min-h-[500px] flex flex-col justify-between",children:[(()=>{switch(w){case 1:return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"The Basics"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"Event Name"}),l.jsx("input",{type:"text",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all outline-none",placeholder:"e.g. Neon nights music festival",value:de.name,onChange:e=>ce({...de,name:e.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"Category"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:b.map(e=>l.jsx("button",{onClick:()=>ce({...de,category:e}),className:"px-3 py-2 rounded-lg text-xs font-semibold border transition-all "+(de.category===e?"bg-indigo-600 border-indigo-400 text-white":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500"),children:e},e))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Catchy Tagline"}),l.jsxs("button",{onClick:je,disabled:O||!de.name||!de.category,className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300 flex items-center gap-1 disabled:opacity-50",title:"AI will generate a catchy tagline based on your event name and category",children:[l.jsx(p,{className:"w-3 h-3"})," AI Generate"]})]}),l.jsx("input",{type:"text",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 focus:border-indigo-500 transition-all outline-none",placeholder:"Let AI create an engaging tagline for your event...",value:O?"Gemini is thinking...":de.tagline,readOnly:!0}),l.jsx("p",{className:"text-xs text-slate-500 mt-1.5",children:"A short, memorable phrase that captures the essence of your event"})]})]})]});case 2:return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"When & Where"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"Start Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),l.jsx("input",{type:"date",value:de.date,onChange:e=>ce({...de,date:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-xl pl-10 pr-4 py-3 focus:border-indigo-500 outline-none"})]})]}),l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"Start Time"}),l.jsxs("div",{className:"relative",children:[l.jsx(F,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),l.jsx("input",{type:"time",value:de.time,onChange:e=>ce({...de,time:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-xl pl-10 pr-4 py-3 focus:border-indigo-500 outline-none"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:["End Date ",l.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),l.jsx("input",{type:"date",value:de.end_date,onChange:e=>ce({...de,end_date:e.target.value}),min:de.date,className:"w-full bg-slate-900 border border-slate-700 rounded-xl pl-10 pr-4 py-3 focus:border-indigo-500 outline-none"})]})]}),l.jsxs("div",{className:"col-span-1",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:["End Time ",l.jsx("span",{className:"text-slate-600",children:"(optional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(F,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),l.jsx("input",{type:"time",value:de.end_time,onChange:e=>ce({...de,end_time:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-xl pl-10 pr-4 py-3 focus:border-indigo-500 outline-none"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1.5",children:"Venue Location"}),l.jsxs("div",{className:"relative",children:[l.jsx($,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 z-10"}),l.jsx("input",{type:"text",placeholder:"Search address or venue name (e.g., P√µltsamaa lossi 61)",value:de.location,onChange:e=>ce({...de,location:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ge(de.location))},className:"w-full bg-slate-900 border border-slate-700 rounded-xl pl-10 pr-24 py-3 focus:border-indigo-500 outline-none"}),l.jsxs("button",{type:"button",onClick:()=>ge(de.location),disabled:H,className:"absolute right-2 top-1/2 -translate-y-1/2 px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-700 disabled:text-slate-500 rounded-lg text-sm font-medium transition-colors flex items-center gap-1.5",children:[l.jsx(D,{className:"w-3.5 h-3.5"}),H?"Searching...":"Search"]})]}),de.locationAddress&&l.jsxs("p",{className:"text-xs text-slate-500 mt-1.5 pl-1",children:["üìç ",de.locationAddress]})]})]}),l.jsxs("div",{className:"relative rounded-2xl border border-slate-800 overflow-hidden h-64",children:[l.jsxs(k,{center:[de.locationLat,de.locationLng],zoom:de.locationAddress?15:7,style:{height:"100%",width:"100%"},children:[l.jsx(C,{attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),de.locationAddress&&l.jsx(E,{position:[de.locationLat,de.locationLng],children:l.jsx(q,{children:l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-semibold",children:de.name||"Event Location"}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:de.locationCity})]})})})]},`${de.locationLat}-${de.locationLng}`),!de.locationAddress&&l.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center pointer-events-none",children:l.jsxs("p",{className:"text-sm font-medium flex items-center gap-2 text-slate-400",children:[l.jsx($,{className:"w-4 h-4"})," Enter address and click Search to preview location"]})})]})]});case 3:return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Event Image"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Add a compelling visual to attract attendees"}),te&&l.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-slate-700 aspect-video",children:[l.jsx("img",{src:te,alt:"Event preview",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:()=>{se(""),ee(null)},className:"absolute top-3 right-3 p-2 bg-slate-900/90 hover:bg-red-600/90 rounded-xl transition-colors",children:l.jsx(u,{className:"w-5 h-5"})})]}),!te&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("label",{className:"relative cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:ue,className:"hidden"}),l.jsxs("div",{className:"h-48 border-2 border-dashed border-slate-700 hover:border-indigo-500 rounded-2xl flex flex-col items-center justify-center gap-3 transition-colors bg-slate-900/50",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-600/10 rounded-2xl flex items-center justify-center",children:l.jsx(L,{className:"w-8 h-8 text-indigo-400"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold text-sm",children:"Upload Image"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Click to browse files"}),l.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Max 10MB, auto-compressed"})]})]})]}),l.jsxs("button",{type:"button",onClick:he,disabled:ie||!de.name||!de.category,className:"h-48 border-2 border-dashed border-slate-700 hover:border-orange-500 rounded-2xl flex flex-col items-center justify-center gap-3 transition-colors bg-slate-900/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-600/10 rounded-2xl flex items-center justify-center",children:ie?l.jsx("div",{className:"w-8 h-8 border-4 border-orange-600 border-t-transparent rounded-full animate-spin"}):l.jsx(p,{className:"w-8 h-8 text-orange-400"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold text-sm",children:ie?"Generating...":"AI Generate Image"}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:de.name&&de.category?"Create unique artwork instantly":"Fill name & category first"}),"free"===t.subscription_tier&&!re&&l.jsx("p",{className:"text-xs text-orange-400 mt-1",children:"Included with event unlock"}),"free"===t.subscription_tier&&re&&l.jsx("p",{className:"text-xs text-green-400 mt-1",children:"‚úì Unlocked & Ready"})]})]})]}),!te&&l.jsx("p",{className:"text-xs text-center text-slate-500",children:"You can skip this step, but events with images get 3x more engagement!"})]});case 4:return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Tickets & Pricing"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Create different ticket types for your event"}),l.jsxs("div",{className:"space-y-3",children:[xe.map((e,t)=>l.jsxs("div",{className:"p-4 bg-slate-900 border border-slate-800 rounded-2xl space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"font-bold text-sm",children:["Ticket ",t+1]}),xe.length>1&&l.jsx("button",{onClick:()=>me(xe.filter((e,s)=>s!==t)),className:"p-1.5 hover:bg-red-600/20 rounded-lg text-red-400 transition-colors",children:l.jsx(u,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Ticket Name"}),l.jsx("input",{type:"text",value:e.name,onChange:e=>{const s=[...xe];s[t].name=e.target.value,me(s)},placeholder:"e.g., VIP Pass, Early Bird",className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Ticket Type"}),l.jsxs("select",{value:e.type,onChange:e=>{const s=[...xe];s[t].type=e.target.value,me(s)},className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-3 py-2 text-sm focus:border-indigo-500 outline-none",children:[l.jsx("option",{value:"general",children:"General Admission"}),l.jsx("option",{value:"vip",children:"VIP"}),l.jsx("option",{value:"early_bird",children:"Early Bird"}),l.jsx("option",{value:"day_pass",children:"Day Pass"}),l.jsx("option",{value:"multi_day",children:"Multi-Day Pass"}),l.jsx("option",{value:"backstage",children:"Backstage Access"}),l.jsx("option",{value:"student",children:"Student"}),l.jsx("option",{value:"group",children:"Group"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Price ($)"}),l.jsx("input",{type:"number",value:e.price,onChange:e=>{const s=[...xe];s[t].price=Number(e.target.value),me(s)},min:"0",step:"0.01",className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Quantity"}),l.jsx("input",{type:"number",value:e.quantity,onChange:e=>{const s=[...xe];s[t].quantity=Number(e.target.value),me(s)},min:"1",className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Description (optional)"}),l.jsx("input",{type:"text",value:e.description||"",onChange:e=>{const s=[...xe];s[t].description=e.target.value,me(s)},placeholder:"e.g., Includes backstage access and meet & greet",className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]})]})]},t)),l.jsx("button",{onClick:()=>me([...xe,{name:`Ticket ${xe.length+1}`,type:"general",price:0,quantity:50}]),className:"w-full p-4 border-2 border-dashed border-slate-700 hover:border-indigo-500 rounded-2xl text-sm font-bold text-slate-400 hover:text-white transition-all",children:"+ Add Another Ticket Type"})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-800",children:[l.jsx("h3",{className:"text-lg font-bold",children:"About This Event"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Add detailed information about your event. This will be displayed prominently on your event page (schedule, lineup, FAQs, etc.)"}),l.jsx("textarea",{value:de.aboutText,onChange:e=>ce({...de,aboutText:e.target.value}),placeholder:"Example:\n\nüéµ EVENT SCHEDULE\n18:00 - Doors Open\n19:00 - Opening Act\n20:30 - Main Performance\n\nüìç VENUE INFO\nLocated in the heart of the city...\n\n‚ùì FAQ\nQ: Is there parking?\nA: Yes, free parking available...",rows:12,className:"w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-3 text-sm focus:border-indigo-500 outline-none resize-none font-mono"}),l.jsx("p",{className:"text-[10px] text-slate-500",children:'üí° Tip: Use line breaks and emojis to organize information. This text will be shown in "About this event" section.'})]}),l.jsxs("div",{className:"p-4 bg-indigo-950/20 border border-indigo-900/50 rounded-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Total Capacity"}),l.jsxs("span",{className:"text-xl font-black text-white",children:[xe.reduce((e,t)=>e+t.quantity,0)," tickets"]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Price Range"}),l.jsxs("span",{className:"text-xl font-black text-white",children:["$",Math.min(...xe.map(e=>e.price))," - $",Math.max(...xe.map(e=>e.price))]})]})]}),l.jsxs("div",{className:"pt-4 border-t border-slate-800 space-y-3",children:[l.jsx("h3",{className:"text-lg font-bold",children:"Privacy & Visibility"}),l.jsxs("button",{onClick:()=>ce({...de,visibility:"public"}),className:"w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left "+("public"===de.visibility?"bg-indigo-600/10 border-indigo-500":"bg-slate-900 border-slate-800 hover:border-slate-700"),children:[l.jsx("div",{className:"p-3 rounded-xl "+("public"===de.visibility?"bg-indigo-600 text-white":"bg-slate-800 text-slate-400"),children:l.jsx(S,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold",children:"Public Event"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Visible to everyone on the map and searchable globally."})]})]}),l.jsxs("button",{onClick:()=>ce({...de,visibility:"private"}),className:"w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left "+("private"===de.visibility?"bg-indigo-600/10 border-indigo-500":"bg-slate-900 border-slate-800 hover:border-slate-700"),children:[l.jsx("div",{className:"p-3 rounded-xl "+("private"===de.visibility?"bg-indigo-600 text-white":"bg-slate-800 text-slate-400"),children:l.jsx(h,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold",children:"Private / Invite Only"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Hidden from map. Only accessible via secret link or code."})]})]})]})]});case 5:return l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Review & Publish"}),l.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-800 overflow-hidden",children:[te&&l.jsxs("div",{className:"relative aspect-video border-b border-slate-800",children:[l.jsx("img",{src:te,alt:de.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-3 right-3 bg-indigo-600 px-3 py-1 rounded-full text-xs font-bold uppercase",children:de.visibility})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{children:[l.jsx("span",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest",children:de.category||"CATEGORY"}),l.jsx("h3",{className:"text-xl font-bold mt-1",children:de.name||"Untitled Event"}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:de.tagline})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl",children:[l.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Date & Time"}),l.jsx("p",{className:"font-bold",children:de.date||"TBD"}),l.jsx("p",{className:"text-xs text-slate-400",children:de.time||"TBD"})]}),l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl",children:[l.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Location"}),l.jsx("p",{className:"font-bold text-sm",children:de.locationCity||"TBD"})]}),l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl",children:[l.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Price Range"}),l.jsx("p",{className:"font-bold text-lg",children:xe.length>0?(()=>{const e=xe.map(e=>e.price||0).filter(e=>e>0);if(0===e.length)return"Free";const t=Math.min(...e),s=Math.max(...e);return t===s?`‚Ç¨${t}`:`‚Ç¨${t} - ‚Ç¨${s}`})():0===de.price?"Free":`‚Ç¨${de.price}`})]}),l.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl",children:[l.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Total Capacity"}),l.jsx("p",{className:"font-bold text-lg",children:xe.length>0?xe.reduce((e,t)=>e+(t.quantity||0),0):de.max_capacity})]})]}),xe.length>0&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("p",{className:"text-slate-500 text-[10px] uppercase font-bold",children:["Ticket Types (",xe.length,")"]}),l.jsx("div",{className:"space-y-2",children:xe.map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between bg-slate-800/30 rounded-lg px-4 py-2.5 border border-slate-700/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-600/20 rounded-lg flex items-center justify-center",children:l.jsx(x,{className:"w-4 h-4 text-indigo-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm",children:e.name}),l.jsx("p",{className:"text-xs text-slate-500 capitalize",children:e.type.replace("_"," ")})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-sm",children:["‚Ç¨",e.price]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[e.quantity," available"]})]})]},t))})]})]})]}),l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl",children:l.jsxs("p",{className:"text-xs text-yellow-500 font-medium leading-relaxed flex items-center gap-2",children:[l.jsx(m,{className:"w-4 h-4"}),"pro"===t.subscription_tier||"premium"===t.subscription_tier||"enterprise"===t.subscription_tier?"Your event will be automatically translated into 5+ languages using Gemini AI to ensure global visibility.":"AI auto-translation is available for Pro tier and above. Upgrade to reach global audiences."]})}),l.jsxs("button",{onClick:ve,disabled:R||ae,className:"w-full bg-indigo-600 hover:bg-indigo-700 py-4 rounded-2xl font-bold text-lg shadow-xl shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(p,{className:"w-5 h-5"}),R?"Publishing...":ae?"Uploading Image...":"Publish Event"]})]});default:return null}})(),l.jsxs("div",{className:"flex justify-between items-center mt-12 pt-8 border-t border-slate-800",children:[l.jsxs("button",{onClick:()=>{A(e=>Math.max(e-1,1))},disabled:1===w,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl text-slate-400 font-semibold hover:bg-slate-800 transition-all disabled:opacity-0",children:[l.jsx(M,{className:"w-5 h-5"})," Back"]}),w<5&&l.jsxs("button",{onClick:()=>{A(e=>Math.min(e+1,5))},className:"bg-slate-100 text-slate-950 px-8 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-white transition-all",children:["Next ",l.jsx(r,{className:"w-5 h-5"})]})]})]})]})};export{O as default};
